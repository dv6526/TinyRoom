<div class="container">
  <div class="page-content pisava">
    <div class="row mt-5">

    <!-- VELIKA KOLICINA PODATKOV -->
      <div class="col-xl-6 col-lg-12 justify-content-center">

        <!-- DATE INPUT -->
        <form (ngSubmit)="getData()">
          <div class="col-12 input-group flex-nowrap">
            <div class="input-group-prepend">
              <span class="input-group-text bg-dark text-white" id="addon-wrapping">Pick a date:</span>
            </div>
            <input [(ngModel)]="date" type="date" name="date" class="form-control text-white" placeholder="Click me to choose a date:" aria-label="Date" aria-describedby="addon-wrapping">
            <div class="input-group-append">
              <button type="submit" class="btn btn-outline-secondary text-white border border-white" id="button-addon2" [disabled]="date==''">Get data</button>
            </div>
          </div>
        </form>
        <div class="text-center" *ngIf="date==''">
          {{error}}
        </div>

        <!-- DATA -->
        <div class="m-3" *ngIf="messages">
          <div *ngFor="let message of messages | oldestFirst" class="message-bubble player">
            {{message.date | getHoursAndMinutes}}
            {{message.name}}:
            {{message.body}}
          </div>
          <div class="text-center" *ngIf="messages.length < 1">
            There were no messages sent on this particular date.
          </div>
        </div>

        <!-- PAGINATION -->
        <nav aria-label="Page navigation">
          <ul class="pagination justify-content-center">
            <li class="page-item">
              <button (click)="previousPage()" type="button" class="btn btn-outline-secondary text-white border border-white border-left" [disabled]="currentPage==0">Previous</button>
            </li>
            <li class="page-item disabled">
              <span class="page-link bg-dark">{{currentPage+1}}/{{numOfPages+1}}</span>
            </li>
            <li class="page-item">
              <button (click)="nextPage()" type="button" class="btn btn-outline-secondary text-white border border-white border-right" [disabled]="currentPage==numOfPages">Next</button>
            </li>
          </ul>
        </nav>

      </div>

    <!-- GRAF -->
      <div class="col-xl-6 col-lg-12 justify-content-center">
        <app-line-chart [lineChartData]="messageData">Loading...</app-line-chart>
      </div>

    </div>
  </div>
</div>
